{"version":3,"file":"static/js/149.cde292a5.chunk.js","mappings":"yOAWe,SAASA,IAEpB,MAAM,SAAEC,EAAQ,cAAEC,EAAa,iBAAEC,EAAgB,iBAAEC,IAAqBC,EAAAA,EAAAA,KAClEC,GAAYC,EAAAA,EAAAA,IAAeC,GAAUA,EAAMC,cAC3C,YAAEC,IAAgBC,EAAAA,EAAAA,KAClBC,GAAWC,EAAAA,EAAAA,MAEjB,OACIC,EAAAA,EAAAA,KAAA,WAASC,GAAG,YAAWC,UAEnBF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,cAAaD,UACxBF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,YAAWD,UAGtBF,EAAAA,EAAAA,KAACI,EAAAA,EAAe,CAACC,KAAK,OAAOC,SAAS,EAAMJ,SACvCf,EAASoB,OAAS,GAAIP,EAAAA,EAAAA,KAACQ,EAAAA,EAAgB,CAAAN,UAGpCF,EAAAA,EAAAA,KAAA,MAEIG,UAAU,0BAAyBD,SAClCf,EAASsB,KAAKC,IACXC,EAAAA,EAAAA,MAACC,EAAAA,EAAW,CAERd,SAAUA,EACVe,QAASH,EAAGR,SAAA,EAGRF,EAAAA,EAAAA,KAACc,EAAAA,EAAQ,CACLD,QAASH,EACTrB,iBAAkBA,EAClBC,iBAAkBA,EAClBF,cAAeA,KAEnBY,EAAAA,EAAAA,KAACe,EAAAA,EAAU,CAACC,QAAUC,IAClBA,EAAEC,kBACF1B,EAAU,IAAKkB,EAAIS,SAAUT,EAAGS,WAAavB,IAAewB,YAAW,KACnExB,GAAa,GACd,KAAK,EACVM,SAAC,yGAhBFQ,EAAGT,SANf,SA6BaD,EAAAA,EAAAA,KAACQ,EAAAA,EAAgB,CAAAN,UAEnCF,EAAAA,EAAAA,KAAA,MAAIG,UAAU,cAAaD,SAAC,oJADvB,mBAajC,C,0DCpEO,MAAMX,GAAe8B,EAAAA,EAAAA,IACxBC,EAAAA,EAAAA,KACI,CAACC,EAAKC,KAAG,CACLrC,SAAU,GAEVQ,WAAa8B,IACTF,GAAK7B,IAKD,GAJsBA,EAAMP,SAASuC,MAChChB,GAAOA,EAAGT,KAAOwB,EAAKxB,KASpB,CAIH,MAAO,CAAEd,SAHeO,EAAMP,SAASsB,KAAKC,GACxCA,EAAGT,KAAOwB,EAAKxB,GAAK,IAAKS,EAAIS,SAAUT,EAAGS,SAAW,GAAMT,IAGnE,CANI,MAAO,CAAEvB,SAJe,IACjBO,EAAMP,SACT,IAAKsC,EAAMN,SAAU,IAQ7B,GACF,EAGN/B,cAAgBuC,IACZJ,GAAK7B,IAIM,CAAEP,SAHeO,EAAMP,SAASyC,QAClCH,GAASA,EAAKxB,KAAO0B,OAG5B,EAGNtC,iBAAmBsC,IACfJ,GAAK7B,IAIM,CAAEP,SAHeO,EAAMP,SAASsB,KAAKC,GACxCA,EAAGT,KAAO0B,EAAS,IAAKjB,EAAIS,SAAUT,EAAGS,SAAW,GAAMT,OAGhE,EAGNpB,iBAAmBqC,IACfJ,GAAK7B,IAMM,CAAEP,SALeO,EAAMP,SAASsB,KAAKC,GACxCA,EAAGT,KAAO0B,EACJ,IAAKjB,EAAIS,SAAUU,KAAKC,IAAI,EAAGpB,EAAGS,SAAW,IAC7CT,OAGZ,KAKV,CACIqB,KAAM,cACNC,WAAYA,IAAMC,e","sources":["pages/FavoritesPage/FavoritesSections.js","stores/favStore.js"],"sourcesContent":["import React from 'react'\nimport './favorites.css'\nimport { userFavStore } from '../../stores/favStore';\nimport { AnimatePresence } from 'framer-motion';\nimport SmoothAppearance from '../../components/ui/SmoothAppearance';\nimport CartItem from '../../components/Cart/CartItem/CartItem';\nimport { useNavigate } from 'react-router-dom';\nimport { userCartStore } from '../../stores/cartStore';\nimport MainButton from '../../components/ui/buttons/MainButton/MainButton';\nimport { modalStore } from '../../stores/modalStore';\nimport CartWrapper from '../../components/Cart/CartItem/CartWrapper';\nexport default function FavoritesSections() {\n\n    const { products, removeProduct, increaseQuantity, decreaseQuantity } = userFavStore();\n    const addToCart = userCartStore((state) => state.addProduct);\n    const { toggleAdded } = modalStore()\n    const navigate = useNavigate()\n\n    return (\n        <section id='favorites'>\n\n            <div className='center-flex'>\n                <div className='container'>\n\n\n                    <AnimatePresence mode=\"wait\" initial={false}>\n                        {products.length > 0 ? <SmoothAppearance\n\n                            key={\"list\"}>\n                            <ul\n\n                                className=\"fav-items column gap-40\">\n                                {products.map((el) => (\n                                    <CartWrapper \n                                        key={el.id}\n                                        navigate={navigate}\n                                        product={el}\n                                    >\n                           \n                                            <CartItem\n                                                product={el}\n                                                increaseQuantity={increaseQuantity}\n                                                decreaseQuantity={decreaseQuantity}\n                                                removeProduct={removeProduct}\n                                            />\n                                            <MainButton onClick={(e) => {\n                                                e.stopPropagation()\n                                                addToCart({ ...el, quantity: el.quantity }); toggleAdded(); setTimeout(() => {\n                                                    toggleAdded()\n                                                }, 1500);\n                                            }}>\n                                                добавить в корзину\n                                            </MainButton>\n                                \n                                    </CartWrapper>\n                                ))}\n                            </ul>\n                        </SmoothAppearance> : <SmoothAppearance\n                            key={'no-found'}>\n                            <h5 className=\"text-center\">\n                                у вас нет избранных товаров\n                            </h5>\n                        </SmoothAppearance>}\n                    </AnimatePresence>\n\n\n                </div>\n            </div>\n\n        </section>\n    )\n}\n","import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\nexport const userFavStore = create(\n    persist(\n        (set, get) => ({\n            products: [],\n\n            addProduct: (item) => {\n                set((state) => {\n                    const productExists = state.products.some(\n                        (el) => el.id === item.id\n                    );\n\n                    if (!productExists) {\n                        const updatedProducts = [\n                            ...state.products,\n                            { ...item, quantity: 1 },\n                        ];\n                        return { products: updatedProducts };\n                    } else {\n                        const updatedProducts = state.products.map((el) =>\n                            el.id === item.id ? { ...el, quantity: el.quantity + 1 } : el\n                        );\n                        return { products: updatedProducts };\n                    }\n                });\n            },\n\n            removeProduct: (itemId) => {\n                set((state) => {\n                    const updatedProducts = state.products.filter(\n                        (item) => item.id !== itemId\n                    );\n                    return { products: updatedProducts };\n                });\n            },\n\n            increaseQuantity: (itemId) => {\n                set((state) => {\n                    const updatedProducts = state.products.map((el) =>\n                        el.id === itemId ? { ...el, quantity: el.quantity + 1 } : el\n                    );\n                    return { products: updatedProducts };\n                });\n            },\n\n            decreaseQuantity: (itemId) => {\n                set((state) => {\n                    const updatedProducts = state.products.map((el) =>\n                        el.id === itemId\n                            ? { ...el, quantity: Math.max(1, el.quantity - 1) }\n                            : el\n                    );\n                    return { products: updatedProducts };\n                });\n            },\n\n \n        }),\n        {\n            name: \"fav-storage\",\n            getStorage: () => localStorage,\n        }\n    )\n);\n"],"names":["FavoritesSections","products","removeProduct","increaseQuantity","decreaseQuantity","userFavStore","addToCart","userCartStore","state","addProduct","toggleAdded","modalStore","navigate","useNavigate","_jsx","id","children","className","AnimatePresence","mode","initial","length","SmoothAppearance","map","el","_jsxs","CartWrapper","product","CartItem","MainButton","onClick","e","stopPropagation","quantity","setTimeout","create","persist","set","get","item","some","itemId","filter","Math","max","name","getStorage","localStorage"],"sourceRoot":""}